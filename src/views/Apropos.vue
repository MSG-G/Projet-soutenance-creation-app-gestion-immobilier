<template>
  <section class="presentation-wrapper">
   
    <div class="full-width-image-container">
      <img src="@/assets/image7.jpg" alt="Image pr√©sentation" class="full-width-image" />
      <div class="blue-alert-box">
        <p>
         Bienvenue chez <strong>DEV-IMMO</strong>, votre partenaire de confiance dans la recherche, la location et la gestion de biens immobiliers.
        Que vous soyez √† la recherche de votre futur chez-vous ou d'un investissement rentable, nous sommes l√† pour vous accompagner √† chaque √©tape. 
    Avec notre expertise et notre engagement, nous transformons vos projets immobilier en r√©alit√©.
        </p>
      </div>
    </div>

   
    <div class="full-width-blue-section">
      <div class="bottom-part">
        <div class="text-with-icon">
          <p>
            <i class="bi bi-house-fill icon-purple"></i>
           Notre agence immobili√®re est dedi√©e √† vous accompagner dans toutes vos d√©marches li√©es √† l'achat, la vente, la location et la gestion de biens immobiliers au S√©n√©gal.</p><br>
            <p>Forts de nombreuses ann√©es d'exp√©rience et d'une connaissance approfondie du march√© local, nous mettons un point d'honneur √† comprendre vos besoins et √† vous offrir des solutions sur mesure, adapt√©es √† vos attentes. 
                Notre √©quipe de professionnels passion√©s et r√©actifs vous guide avec s√©rieux et transparence, en vous fournissant des conseils pr√©cieux √† chaque √©tape de votre projet immobilier. 
                Que vous soyez primo-acc√©dant, investisseur ou locataire, nous nous engageons √† rendre votre exp√©rience simple, fluide et satisfaisante.<br>
                Notre objectif: faire de vos projets immobiliers une r√©alit√©, en toute confiance et s√©r√©nit√©...
            </p>
        </div>
        <img src="@/assets/toff2.jpeg" alt="Image b√¢timent" class="bottom-image" />
      </div>
    </div>
    
  </section>
   <main class="descript text-dark py-5">
    <div class="container">
      <h2 class="text-center text-primary mb-4">
        NOTRE SAVOIR-FAIRE, LA CL√â DE NOTRE SUCC√àS
      </h2>

      <div class="row">
        <!-- Nos avantages -->
        <div class="col-md-6">
          <h3 class="fw-bold">Nos avantages</h3>
          <p>
            Sp√©cialis√© dans ce domaine de nombreuses ann√©es, nous vous offrons une exp√©rience fluide et professionnelle.
          </p>
          <ul>
            <li>
              Implant√© partout dans le S√©n√©gal, nos jeunes agents immobiliers passionn√©s et motiv√©s seront √† votre disposition pour chaque √©tape.
            </li>
            <li>
              Des services sur mesure pour r√©pondre √† chaque client.
            </li>
            <li>
              Un suivi clair et honn√™te √† chaque √©tape de votre projet.
            </li>
            <li>
Nous travaillons en √©troite collaboration avec les nouvelles technologies pour valoriser vos biens et vous projetez dans cette atmosph√®re chaleureuse avec la 3D.            </li>
          </ul>
        </div>

        <!-- Notre mission -->
        <div class="col-md-6">
          <h3 class="fw-bold">Notre mission</h3>
          <p>
            Notre mission est de r√©aliser vos r√™ves immobiliers en vous fournissant des services de premier ordre et en mettant √† votre disposition notre expertise du march√©.
          </p>
          <ul>
            <li>
Nous croyons fermement qu‚Äôune relation bas√©e sur la confiance et la transparence est la cl√© pour atteindre vos objectifs immobiliers.   
         </li>
           
         <li>
              Ainsi nous simplifions et s√©curisons  vos d√©marches immobili√®res tout en cr√©ant une exp√©rience client unique:
          </li>
           <li>
              Vos choix, nous en ferons notre pr√©occupation.
            </li>
            <li>
              Trouver votre coup de c≈ìur quoi qu‚Äôil en co√ªte.
            </li>
            <li>
              Un suivi clair et honn√™te √† chaque √©tape de votre projet.
            </li>
          </ul>
        </div>
      </div>
    </div>
  </main>
  <section class="experts-section">
    <div class="container py-5">
      <h2 class="fw-bold text-center text-primary mb-3">
        Rencontrez Nos Experts de l'immobilier üßë‚Äçüíº
      </h2>
      <p class="text-center mb-4">
        Derri√®re chaque transaction r√©ussie, il y a un agent immobilier passionn√© qui comprend vos besoins et vous guide dans votre projet. Notre √©quipe de professionnels est l√† pour vous :
      </p>

      <ul class="fs-5">
        <li>üè° Acheteurs ? Nous trouvons le bien parfait pour vous.</li>
        <li>üì¶ Vendeurs ? Nous mettons en valeur votre propri√©t√© pour une vente rapide.</li>
        <li>üìà Investisseurs ? Nous vous aidons √† faire les meilleurs choix.</li>
      </ul>

      <p class="text-center mt-3 fs-5 text-primary">
        D√©couvrez nos agents et trouvez votre expert d√©di√© üß≠
      </p>

      <div class="text-center mt-3">
        <button class="btn btn-outline-light">Contacter</button>
      </div>
    </div>

     <!-- compteurs -->
  <div class="stats-background d-flex align-items-center">
    <div class="container text-center py-5">
      <div class="row">
        <div class="col-6 col-md-3" v-for="(stat, index) in stats" :key="index">
          <div class="stat-box">
            <h3 class="display-6 fw-bold text-white">
              {{ formatNumber(displayCounts[index]) }} +
            </h3>
            <p class="text-white">{{ stat.label }}</p>
            <hr class="white-line" />
          </div>
        </div>
      </div>
    </div>
  </div>
  </section>
</template>

<script setup>
import { ref, onMounted } from 'vue'

const stats = [
  { target: 100, label: 'Appartements vendus' },
  { target: 1000, label: 'Clients satisfaits' },
  { target: 250, label: 'Maisons Lou√©es' },
  { target: 1200, label: 'Propri√©t√©s r√©pertori√©es' }
]

const displayCounts = ref(stats.map(() => 0))
let animationStarted = false

onMounted(() => {
  const observer = new IntersectionObserver(
    (entries) => {
      if (entries[0].isIntersecting && !animationStarted) {
        startAnimation()
        animationStarted = true
        observer.disconnect()
      }
    },
    { threshold: 0.5 }
  )

  const target = document.querySelector('.stats-background')
  if (target) observer.observe(target)
})

function startAnimation() {
  const duration = 2000
  const start = performance.now()

  function update(timestamp) {
    const progress = Math.min((timestamp - start) / duration, 1)

    stats.forEach((stat, i) => {
      displayCounts.value[i] = Math.floor(stat.target * progress)
    })

    if (progress < 1) {
      requestAnimationFrame(update)
    } else {
      stats.forEach((stat, i) => {
        displayCounts.value[i] = stat.target
      })
    }
  }

  requestAnimationFrame(update)
}

function formatNumber(number) {
  return number.toLocaleString()
}
</script>

<style>
.full-width-image-container {
  position: relative;
  margin-bottom: 140px; 
}

.full-width-image {
  width: 100%;
  height: 450px;
  object-fit: cover;
  display: block;
}


.blue-alert-box {
  position: absolute;
  bottom: -90px;
  right: 40px;
  background-color: #007bff;
  color: white;
  padding: 20px 25px;
  border-radius: 8px;
  max-width: 350px;
  font-size: 15px;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}


.full-width-blue-section {
  width: 100vw;
  margin-left: calc(-50vw + 50%);
  background-color: #e6f0ff;
  padding: 80px 0;
}


.bottom-part {
  max-width: 1200px;
  margin: 0 auto;
  display: flex;
  flex-wrap: wrap;
  gap: 30px;
  padding: 0 20px;
}

.text-with-icon {
  flex: 2;
  font-size: 15px;
  color: #444;
}

.bottom-image {
  flex: 1;
  max-width: 350px;
  border-radius: 8px;
  margin-top: 10px;
}

/* üîÅ Responsive */
@media (max-width: 768px) {
  .blue-alert-box {
    position: static;
    margin: 20px auto 0 auto;
    width: 90%;
    text-align: center;
  }

  .bottom-part {
    flex-direction: column;
    text-align: center;
  }

  .bottom-image {
    width: 100%;
  }
}
.descript {
  background-color: #e6f0ff;
  width: 100vw;
  margin: 0;
  padding: 60px 0; 
}

.descript ul {
  padding-left: 1rem;
}

.descript li {
  margin-bottom: 0.5rem;
}


experts-section {
  background-color: #111; 
  color: white;
}

ul {
  list-style: none;
  padding-left: 0;
}

ul li {
  margin-bottom: 0.6rem;
}

.stats-background {
  background-image: url('@/assets/image11.jpg');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  width: 100%;
  min-height: 500px;
  position: relative;
  z-index: 1;
  display: flex;
  align-items: center;
}

.stat-box {
  margin: 20px 0;
}

.white-line {
  border: none;
  height: 2px;
  background-color: white;
  width: 60%;
  margin: 10px auto 0;
}

</style>
